<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@codecov/astro-plugin - v1.8.0 | Codecov JavaScript Bundler Plugins</title><meta name="description" content="Documentation for Codecov JavaScript Bundler Plugins"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">Codecov JavaScript Bundler Plugins</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">Codecov JavaScript Bundler Plugins</a></li><li><a href="_codecov_astro-plugin.html">@codecov/astro-plugin</a></li></ul><h1>Module @codecov/astro-plugin - v1.8.0</h1></div><section class="tsd-panel tsd-typography"><p align="center">
  <a href="https://about.codecov.io" target="_blank">
    <img src="https://about.codecov.io/wp-content/themes/codecov/assets/brand/sentry-cobranding/logos/codecov-by-sentry-logo.svg" alt="Codecov by Sentry logo" width="280" height="84">
  </a>
</p>
<a id="codecov-astro-plugin" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Codecov Astro Plugin<a href="#codecov-astro-plugin" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>An Astro integration that provides bundle analysis support for Codecov.</p>
<div class="tsd-alert tsd-alert-note"><div class="tsd-alert-title"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><use href="../assets/icons.svg#icon-alertNote"></use></svg><span>Note</span></div><p>
The plugin does not support code coverage, see our <a href="https://docs.codecov.com/docs/quick-start">docs</a> to set up coverage today!</p>
</div>
<a id="installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Using npm:</p>
<pre><code class="bash"><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">astro</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">@codecov/astro-plugin</span>
</code><button type="button">Copy</button></pre>

<p>Using yarn:</p>
<pre><code class="bash"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">astro</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">@codecov/astro-plugin</span>
</code><button type="button">Copy</button></pre>

<p>Using pnpm:</p>
<pre><code class="bash"><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">astro</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">@codecov/astro-plugin</span>
</code><button type="button">Copy</button></pre>

<a id="public-repo-example---github-actions" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Public Repo Example - GitHub Actions<a href="#public-repo-example---github-actions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This configuration will automatically upload the bundle analysis to Codecov for public repositories. When an internal PR is created it will use the Codecov token set in your secrets, and if running from a forked PR, it will use the tokenless setting automatically. For setups not using GitHub Actions see the following <a href="#public-repo-example---non-github-actions">example</a>. For private repositories see the following <a href="#private-repo-example">example</a>.</p>
<pre><code class="js"><span class="hl-3">// astro.config.mjs</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">defineConfig</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;astro/config&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">codecovAstroPlugin</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@codecov/astro-plugin&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// https://astro.build/config</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-4">default</span><span class="hl-1"> </span><span class="hl-0">defineConfig</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-3">// other config settings</span><br/><span class="hl-1">  </span><span class="hl-5">integrations:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-3">// place this after all other integrations</span><br/><span class="hl-1">    </span><span class="hl-0">codecovAstroPlugin</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">enableBundleAnalysis:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">bundleName:</span><span class="hl-1"> </span><span class="hl-2">&quot;example-astro-bundle&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">uploadToken:</span><span class="hl-1"> </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">env</span><span class="hl-1">.</span><span class="hl-7">CODECOV_TOKEN</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">gitService:</span><span class="hl-1"> </span><span class="hl-2">&quot;github&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="public-repo-example---non-github-actions" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Public Repo Example - Non-GitHub Actions<a href="#public-repo-example---non-github-actions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This setup is for public repositories that are not using GitHub Actions, this configuration will automatically upload the bundle analysis to Codecov. You will need to configure the it similar to the GitHub Actions example, however you will need to provide a branch override, and ensure that it will pass the correct branch name, and with forks including the fork-owner i.e. <code>fork-owner:branch</code>.</p>
<pre><code class="js"><span class="hl-3">// astro.config.mjs</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">defineConfig</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;astro/config&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">codecovAstroPlugin</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@codecov/astro-plugin&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// https://astro.build/config</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-4">default</span><span class="hl-1"> </span><span class="hl-0">defineConfig</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-3">// other config settings</span><br/><span class="hl-1">  </span><span class="hl-5">integrations:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-3">// place this after all other integrations</span><br/><span class="hl-1">    </span><span class="hl-0">codecovAstroPlugin</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">enableBundleAnalysis:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">bundleName:</span><span class="hl-1"> </span><span class="hl-2">&quot;example-astro-bundle&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">uploadToken:</span><span class="hl-1"> </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">env</span><span class="hl-1">.</span><span class="hl-7">CODECOV_TOKEN</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">gitService:</span><span class="hl-1"> </span><span class="hl-2">&quot;github&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">uploadOverrides:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">branch:</span><span class="hl-1"> </span><span class="hl-2">&quot;&lt;branch value&gt;&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="private-repo-example" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Private Repo Example<a href="#private-repo-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This is the required way to use the plugin for private repositories. This configuration will automatically upload the bundle analysis to Codecov.</p>
<p>This configuration will automatically upload the bundle analysis to Codecov for public repositories. When an internal PR is created it will use the Codecov token set in your secrets, and if running from a forked PR, it will use the tokenless setting automatically. For setups not using GitHub Actions see the following <a href="#public-repo-example---non-github-actions">example</a>. For private repositories see the following <a href="#private-repo-example">example</a>.</p>
<pre><code class="js"><span class="hl-3">// astro.config.mjs</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">defineConfig</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;astro/config&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">codecovAstroPlugin</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@codecov/astro-plugin&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// https://astro.build/config</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-4">default</span><span class="hl-1"> </span><span class="hl-0">defineConfig</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-3">// other config settings</span><br/><span class="hl-1">  </span><span class="hl-5">integrations:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-3">// place this after all other integrations</span><br/><span class="hl-1">    </span><span class="hl-0">codecovAstroPlugin</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">enableBundleAnalysis:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">bundleName:</span><span class="hl-1"> </span><span class="hl-2">&quot;example-astro-bundle&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">uploadToken:</span><span class="hl-1"> </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">env</span><span class="hl-1">.</span><span class="hl-7">CODECOV_TOKEN</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="oidc-configuration-example" class="tsd-anchor"></a><h2 class="tsd-anchor-link">OIDC Configuration Example<a href="#oidc-configuration-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>For users with <a href="https://docs.github.com/en/actions/deployment/security-hardening-your-deployments/about-security-hardening-with-openid-connect">OpenID Connect (OIDC) enabled</a>, setting the <code>uploadToken</code> is not necessary. You can use OIDC with the <code>oidc</code> configuration as following.</p>
<pre><code class="js"><span class="hl-3">// astro.config.mjs</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">defineConfig</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;astro/config&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">codecovAstroPlugin</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@codecov/astro-plugin&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// https://astro.build/config</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-4">default</span><span class="hl-1"> </span><span class="hl-0">defineConfig</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-3">// other config settings</span><br/><span class="hl-1">  </span><span class="hl-5">integrations:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-3">// place this after all other integrations</span><br/><span class="hl-1">    </span><span class="hl-0">codecovAstroPlugin</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">enableBundleAnalysis:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">bundleName:</span><span class="hl-1"> </span><span class="hl-2">&quot;example-astro-bundle&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">oidc:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">useGitHubOIDC:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="more-information" class="tsd-anchor"></a><h2 class="tsd-anchor-link">More information<a href="#more-information" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="https://codecov.github.io/codecov-javascript-bundler-plugins/modules/_codecov_astro_integration.html">Astro Plugin Docs</a></li>
<li><a href="https://docs.codecov.com/docs">Codecov Documentation</a></li>
<li><a href="https://github.com/codecov/feedback/discussions">Codecov Feedback</a></li>
<li><a href="https://discord.gg/Ww9hbqr">Sentry Discord</a></li>
</ul>
</section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Functions"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Functions</h2></summary><dl class="tsd-member-summaries"><dt class="tsd-member-summary"><a id="default" class="tsd-anchor"></a><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><a href="../functions/_codecov_astro-plugin.default.html">default</a><a href="#default" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd></dl></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#codecov-astro-plugin"><span>Codecov <wbr/>Astro <wbr/>Plugin</span></a><ul><li><a href="#installation"><span>Installation</span></a></li><li><a href="#public-repo-example---github-actions"><span>Public <wbr/>Repo <wbr/>Example -<wbr/> <wbr/>Git<wbr/>Hub <wbr/>Actions</span></a></li><li><a href="#public-repo-example---non-github-actions"><span>Public <wbr/>Repo <wbr/>Example -<wbr/> <wbr/>Non-<wbr/>Git<wbr/>Hub <wbr/>Actions</span></a></li><li><a href="#private-repo-example"><span>Private <wbr/>Repo <wbr/>Example</span></a></li><li><a href="#oidc-configuration-example"><span>OIDC <wbr/>Configuration <wbr/>Example</span></a></li><li><a href="#more-information"><span>More information</span></a></li></ul><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Functions"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Functions</summary><div><a href="#default" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>default</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">Codecov JavaScript Bundler Plugins</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
